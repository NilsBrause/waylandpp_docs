<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wayland++: wayland::read_intent Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wayland++
   &#160;<span id="projectnumber">0.2.6</span>
   </div>
   <div id="projectbrief">C++ Bindings for Wayland</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classwayland_1_1read__intent.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classwayland_1_1read__intent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">wayland::read_intent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents an intention to read from the display file descriptor.  
 <a href="classwayland_1_1read__intent.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="wayland-client_8hpp_source.html">wayland-client.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8b1aef8516e4ccbfbba356f7a29d9c15"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwayland_1_1read__intent.html#a8b1aef8516e4ccbfbba356f7a29d9c15">is_finalized</a> () const</td></tr>
<tr class="memdesc:a8b1aef8516e4ccbfbba356f7a29d9c15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether this intent was already finalized with <a class="el" href="classwayland_1_1read__intent.html#a2e663187d7766828b483c65ede83ecc4">cancel</a> or <a class="el" href="classwayland_1_1read__intent.html#a92565efbf3a622eb23fc5aefcb1a033d">read</a>.  <a href="classwayland_1_1read__intent.html#a8b1aef8516e4ccbfbba356f7a29d9c15">More...</a><br /></td></tr>
<tr class="separator:a8b1aef8516e4ccbfbba356f7a29d9c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e663187d7766828b483c65ede83ecc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwayland_1_1read__intent.html#a2e663187d7766828b483c65ede83ecc4">cancel</a> ()</td></tr>
<tr class="memdesc:a2e663187d7766828b483c65ede83ecc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel read intent.  <a href="classwayland_1_1read__intent.html#a2e663187d7766828b483c65ede83ecc4">More...</a><br /></td></tr>
<tr class="separator:a2e663187d7766828b483c65ede83ecc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92565efbf3a622eb23fc5aefcb1a033d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwayland_1_1read__intent.html#a92565efbf3a622eb23fc5aefcb1a033d">read</a> ()</td></tr>
<tr class="memdesc:a92565efbf3a622eb23fc5aefcb1a033d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read events from display file descriptor.  <a href="classwayland_1_1read__intent.html#a92565efbf3a622eb23fc5aefcb1a033d">More...</a><br /></td></tr>
<tr class="separator:a92565efbf3a622eb23fc5aefcb1a033d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents an intention to read from the display file descriptor. </p>
<p>When not using the convenience method <a class="el" href="classwayland_1_1display__t.html#a2d5e46126e5ad4a35158e670c0644b38">display_t::dispatch</a> that takes care of this automatically, threads that want to read events from a Wayland display file descriptor must announce their intention to do so beforehand - in the C API, this is done using wl_display_prepare_read. This intention must then be resolved either by actually invoking a read from the file descriptor or cancelling.</p>
<p>This RAII class makes sure that when it goes out of scope, the intent is cancelled automatically if it was not finalized by manually cancelling or reading before. Otherwise, it would be easy to forget resolving the intent e.g. when handling errors, potentially leading to a deadlock.</p>
<p>Read intents can only be created by a <a class="el" href="classwayland_1_1display__t.html">display_t</a> with <a class="el" href="classwayland_1_1display__t.html#afbc3da19815c40564dcd923ce7d83961">display_t::obtain_read_intent</a> and <a class="el" href="classwayland_1_1display__t.html#ad00648a8a69ff81ca0291e662b82bc08">display_t::obtain_queue_read_intent</a>.</p>
<p>Undefined behavior occurs when the associated <a class="el" href="classwayland_1_1display__t.html">display_t</a> or <a class="el" href="classwayland_1_1event__queue__t.html">event_queue_t</a> is destroyed when a <a class="el" href="classwayland_1_1read__intent.html" title="Represents an intention to read from the display file descriptor.">read_intent</a> has not been finalized yet. </p>

<p class="definition">Definition at line <a class="el" href="wayland-client_8hpp_source.html#l00357">357</a> of file <a class="el" href="wayland-client_8hpp_source.html">wayland-client.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2e663187d7766828b483c65ede83ecc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e663187d7766828b483c65ede83ecc4">&#9670;&nbsp;</a></span>cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wayland::read_intent::cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel read intent. </p>
<p>An exception is thrown when the read intent was already finalized. </p>

</div>
</div>
<a id="a8b1aef8516e4ccbfbba356f7a29d9c15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b1aef8516e4ccbfbba356f7a29d9c15">&#9670;&nbsp;</a></span>is_finalized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wayland::read_intent::is_finalized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether this intent was already finalized with <a class="el" href="classwayland_1_1read__intent.html#a2e663187d7766828b483c65ede83ecc4">cancel</a> or <a class="el" href="classwayland_1_1read__intent.html#a92565efbf3a622eb23fc5aefcb1a033d">read</a>. </p>

</div>
</div>
<a id="a92565efbf3a622eb23fc5aefcb1a033d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92565efbf3a622eb23fc5aefcb1a033d">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wayland::read_intent::read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read events from display file descriptor. </p>
<p>This will read events from the file descriptor for the display. This function does not dispatch events, it only reads and queues events into their corresponding event queues. If no data is avilable on the file descriptor, <a class="el" href="classwayland_1_1read__intent.html#a92565efbf3a622eb23fc5aefcb1a033d" title="Read events from display file descriptor.">read()</a> returns immediately. To dispatch events that may have been queued, call <a class="el" href="classwayland_1_1display__t.html#a02379cb5da8a28e29f02f910baf96495">display_t::dispatch_pending</a> or <a class="el" href="classwayland_1_1display__t.html#a105fe6b23e309586523747f7912bb0ce">display_t::dispatch_queue_pending</a>.</p>
<p>An exception is thrown when the read intent was already finalized. Each read intent can only be used for reading once. A new one must be obtained for any further read requests. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="wayland-client_8hpp_source.html">wayland-client.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>wayland</b></li><li class="navelem"><a class="el" href="classwayland_1_1read__intent.html">read_intent</a></li>
    <li class="footer">Generated on Tue Oct 8 2019 20:07:40 for Wayland++ by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
